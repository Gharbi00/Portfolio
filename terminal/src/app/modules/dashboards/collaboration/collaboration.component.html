<app-breadcrumbs title="{{ 'MODULES.DASHBOARDS.COLLABORATION.COLLABORATION' | translate }}" [breadcrumbItems]="breadCrumbItems"></app-breadcrumbs>

<div class="row mb-3 pb-1">
  <div class="col-12">
    <div class="d-flex align-items-lg-center flex-lg-row flex-column">
      <div class="flex-grow-1">
        <h4 class="fs-16 mb-1">{{ 'MODULES.DASHBOARDS.COLLABORATION.COLLABORATION_TITLE' | translate }}</h4>
        <p class="text-muted mb-0">{{ 'MODULES.DASHBOARDS.COLLABORATION.COLLABORATION_DESCRIPTION' | translate }}</p>
      </div>
      <div class="mt-3 mt-lg-0">
        <div class="row g-3 mb-0 align-items-center">
          <div class="col-sm-auto">
            <div class="input-group">
              <input (flatpickrClose)="onChangeFilter($event)" class="form-control flatpickr-input" type="text" mwlFlatpickr [(ngModel)]="filter" [altInput]="true" [convertModelValue]="true"
                mode="range" placeholder="{{ 'COMMON.SELECT_DATE_RANGE' | translate }}">
              <div class="input-group-text bg-primary border-primary text-white"><i class="ri-calendar-2-line"></i>
              </div>
            </div>
          </div>
          <div class="col-auto">
            <button type="button" class="btn btn-soft-success shadow-none" routerLink="/collaboration/projects/create">{{ 'MODULES.DASHBOARDS.COLLABORATION.ADD_PROJECT' | translate
              }}</button>
          </div>
          <div class="col-auto">
            <button type="button" class="btn btn-soft-info btn-icon waves-effect waves-light layout-rightside-btn shadow-none" (click)="toggleActivity()"><i class="ri-pulse-line"></i></button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row project-wrapper">
  <div class="col-xxl-8">
    <div *ngIf="((loadingStats$ | async) === false || null || undefined) && statData?.length" class="row">
      <div class="col-lg-4" *ngFor="let stat of statData">
        <app-projects-stat [title]="stat.title | translate" [value]="stat.value | translate" [icon]="stat.icon | translate" [persantage]="stat.persantage | translate" [profit]="stat.profit| translate" [month]="stat.month | translate"></app-projects-stat>
      </div>
    </div>

    <div id="noresult" class="py-4 mt-4 text-center" *ngIf="(loadingStats$ | async) || (!(loadingStats$ | async) && !stats)">
      <div *ngIf="loadingStats$ | async">
        <lord-icon trigger="loop" style="width:72px;height:72px" [colors]="'primary:' + primaryColor + ',secondary:' + secondaryColor" src="https://cdn.lordicon.com/msoeawqm.json">
        </lord-icon>
        <h5 class="mt-4">{{'COMMON.LOADING' | translate }}</h5>
      </div>
      <div *ngIf="!stats && !(loadingStats$ | async)">
        <lord-icon trigger="loop" style="width:72px;height:72px" [colors]="'primary:' + primaryColor + ',secondary:' + secondaryColor" src="https://cdn.lordicon.com/vlycxjwx.json">
        </lord-icon>
        <h5 class="mt-4">{{ 'COMMON.NO_RESULT' | translate }}</h5>
      </div>
    </div>

    <div class="row">
      <div class="col-xl-12">
        <div class="card">
          <div class="card-header border-0 align-items-center d-flex">
            <h4 class="card-title mb-0 flex-grow-1">{{ 'MODULES.DASHBOARDS.COLLABORATION.PROJECTS_OVERVIEW' | translate
              }}</h4>
            <div class="d-flex gap-1">
              <button [class.active]="selectedField === 'All'" type="button" class="btn btn-soft-secondary btn-sm shadow-none" (click)="monthFilter('All')">
                {{ 'COMMON.ALL' | translate }}
              </button>
              <button [class.active]="selectedField === '1M'" type="button" class="btn btn-soft-secondary btn-sm shadow-none" (click)="monthFilter('1M')">
                {{ 'COMMON.ONE_MONTH' | translate }}
              </button>
              <button [class.active]="selectedField === '6M'" type="button" class="btn btn-soft-secondary btn-sm shadow-none" (click)="monthFilter('6M')">
                {{ 'COMMON.SIX_MONTHS' | translate }}
              </button>
              <button [class.active]="selectedField === '1Y'" type="button" class="btn btn-soft-primary btn-sm shadow-none" (click)="monthFilter('1Y')">
                {{ 'COMMON.ONE_YEAR' | translate }}
              </button>
            </div>
          </div>

          <div class="card-header p-0 border-0 bg-soft-light">
            <div class="row g-0 text-center">
              <div class="col-6 col-sm-3">
                <div class="p-3 border border-dashed border-start-0">
                  <h5 class="mb-1"><span>
                      {{projectsOverview?.totalProjects || 0}}
                    </span></h5>
                  <p class="text-muted mb-0">{{ 'MODULES.DASHBOARDS.COLLABORATION.NUMBER_OF_PROJECTS' | translate }}</p>
                </div>
              </div>
              <div class="col-6 col-sm-3">
                <div class="p-3 border border-dashed border-start-0">
                  <h5 class="mb-1"><span>
                      {{projectsOverview?.activeProjects || 0}}
                    </span></h5>
                  <p class="text-muted mb-0">{{ 'MODULES.DASHBOARDS.COLLABORATION.ACTIVE_PROJECTS' | translate }}</p>
                </div>
              </div>
              <div class="col-6 col-sm-3">
                <div class="p-3 border border-dashed border-start-0">
                  <h5 class="mb-1">
                    <span> {{(projectsOverview?.revenue | currency:'DT':'symbol':'1.3-3') || 0.000}} </span>
                  </h5>
                  <p class="text-muted mb-0">{{ 'MODULES.DASHBOARDS.COLLABORATION.REVENUE' | translate }}</p>
                </div>
              </div>
              <div class="col-6 col-sm-3">
                <div class="p-3 border border-dashed border-start-0 border-end-0">
                  <h5 class="mb-1 text-success">
                    <span>{{projectsOverview?.hours || 0}}</span>h
                  </h5>
                  <p class="text-muted mb-0">{{ 'MODULES.DASHBOARDS.COLLABORATION.WORKING_HOURS' | translate }}</p>
                </div>
              </div>
            </div>
          </div>
          <ng-container *ngIf="((loadingProjectsOverview$ | async) === false || null || undefined) && OverviewChart">
            <div class="card-body p-0 pb-2">
              <div *ngIf="isBrowser" class="mb-n3">
                <apx-chart [series]="OverviewChart.series" [chart]="OverviewChart.chart" [stroke]="OverviewChart.stroke" [fill]="OverviewChart.fill" [markers]="OverviewChart.markers"
                  [xaxis]="OverviewChart.xaxis" [grid]="OverviewChart.grid" [legend]="OverviewChart.legend" [plotOptions]="OverviewChart.plotOptions" [colors]="OverviewChart.colors"
                  [tooltip]="OverviewChart.tooltip" dir="ltr"></apx-chart>
              </div>
            </div>
          </ng-container>

          <div id="noresult" class="py-4 mt-4 text-center" *ngIf="(loadingProjectsOverview$ | async) || (!(loadingProjectsOverview$ | async) && !OverviewChart)">
            <div *ngIf="loadingProjectsOverview$ | async">
              <lord-icon trigger="loop" style="width:72px;height:72px" [colors]="'primary:' + primaryColor + ',secondary:' + secondaryColor" src="https://cdn.lordicon.com/msoeawqm.json">
              </lord-icon>
              <h5 class="mt-4">{{'COMMON.LOADING' | translate }}</h5>
            </div>
            <div *ngIf="!OverviewChart && !(loadingProjectsOverview$ | async)">
              <lord-icon trigger="loop" style="width:72px;height:72px" [colors]="'primary:' + primaryColor + ',secondary:' + secondaryColor" src="https://cdn.lordicon.com/vlycxjwx.json">
              </lord-icon>
              <h5 class="mt-4">{{ 'COMMON.NO_RESULT' | translate }}</h5>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- <div class="col-xxl-4">
        <div class="card">
            <div class="card-header border-0">
                <h4 class="card-title mb-0">Upcoming Schedules</h4>
            </div>
            <div class="card-body pt-0">
                <div class="upcoming-scheduled">
                    <input type="text" class="form-control" mwlFlatpickr [altInput]="true" [convertModelValue]="true"
                        [inline]="true">
                </div>

                <h6 class="text-uppercase fw-semibold mt-4 mb-3 text-muted">Events:</h6>
                <div class="mini-stats-wid d-flex align-items-center mt-3">
                    <div class="flex-shrink-0 avatar-sm">
                        <span class="mini-stat-icon avatar-title rounded-circle text-success bg-soft-success fs-4">
                            09
                        </span>
                    </div>
                    <div class="flex-grow-1 ms-3">
                        <h6 class="mb-1">Development planning</h6>
                        <p class="text-muted mb-0">iTest Factory </p>
                    </div>
                    <div class="flex-shrink-0">
                        <p class="text-muted mb-0">9:20 <span class="text-uppercase">am</span></p>
                    </div>
                </div>
                <div class="mini-stats-wid d-flex align-items-center mt-3">
                    <div class="flex-shrink-0 avatar-sm">
                        <span class="mini-stat-icon avatar-title rounded-circle text-success bg-soft-success fs-4">
                            12
                        </span>
                    </div>
                    <div class="flex-grow-1 ms-3">
                        <h6 class="mb-1">Design new UI and check sales</h6>
                        <p class="text-muted mb-0">Meta4Systems</p>
                    </div>
                    <div class="flex-shrink-0">
                        <p class="text-muted mb-0">11:30 <span class="text-uppercase">am</span></p>
                    </div>
                </div>
                <div class="mini-stats-wid d-flex align-items-center mt-3">
                    <div class="flex-shrink-0 avatar-sm">
                        <span class="mini-stat-icon avatar-title rounded-circle text-success bg-soft-success fs-4">
                            25
                        </span>
                    </div>
                    <div class="flex-grow-1 ms-3">
                        <h6 class="mb-1">{{'MENUITEMS.CUSTOMERENGAGEMENT.LIST.WEEKLY' | translate }} catch-up </h6>
                        <p class="text-muted mb-0">Nesta Technologies</p>
                    </div>
                    <div class="flex-shrink-0">
                        <p class="text-muted mb-0">02:00 <span class="text-uppercase">pm</span></p>
                    </div>
                </div>
                <div class="mini-stats-wid d-flex align-items-center mt-3">
                    <div class="flex-shrink-0 avatar-sm">
                        <span class="mini-stat-icon avatar-title rounded-circle text-success bg-soft-success fs-4">
                            27
                        </span>
                    </div>
                    <div class="flex-grow-1 ms-3">
                        <h6 class="mb-1">James Bangs (Client) Meeting</h6>
                        <p class="text-muted mb-0">Nesta Technologies</p>
                    </div>
                    <div class="flex-shrink-0">
                        <p class="text-muted mb-0">03:45 <span class="text-uppercase">pm</span></p>
                    </div>
                </div>

                <div class="mt-3 text-center">
                    <a href="javascript:void(0);" class="text-muted text-decoration-underline">View all Events</a>
                </div>

            </div>
        </div>
    </div> -->

</div>

<div class="row">
  <div class="col-xl-7">
    <div class="card">
      <div class="card-header d-flex align-items-center">
        <h4 class="card-title flex-grow-1 mb-0">{{ 'MODULES.DASHBOARDS.COLLABORATION.ACTIVE_PROJECTS' | translate }}
        </h4>
      </div>
      <div *ngIf="((loadingProjects$ | async) === false || null || undefined) && (projects$ | async)?.length" class="card-body">
        <div class="table-responsive table-card">
          <app-active-project [activeProjects]="projects$ | async"></app-active-project>
        </div>
      </div>

      <div *ngIf="((loadingProjects$ | async) === false || null || undefined) && (projects$ | async)?.length" class="px-3 p-3">
        <div class="row justify-content-md-between align-items-md-center gy-2">
          <div class="col col-sm-6">
            <div class="dataTables_info mb-2" id="tickets-table_info" role="status" aria-live="polite">{{'COMMON.SHOWING' | translate }} {{pagination?.startIndex + 1}}–{{pagination?.endIndex ===
              pagination?.length ? pagination?.endIndex : pagination?.endIndex + 1}} {{'COMMON.OF' | translate }}
              {{pagination?.length}} {{'COMMON.ENTRIES' | translate }}
            </div>
          </div>
          <div class="col col-sm-6">
            <div class="text-sm-right float-end listjs-pagination">
              <ngb-pagination [maxSize]="5" [collectionSize]="pagination?.length" [(page)]="projectPage" (pageChange)="onProjectsPageChange($event)" [pageSize]="pagination?.size">
              </ngb-pagination>
            </div>
          </div>
        </div>
      </div>

      <div id="noresult" class="py-4 mt-4 text-center" *ngIf="(loadingProjects$ | async) || (!(loadingProjects$ | async) && !(projects$ | async)?.length)">
        <div *ngIf="loadingProjects$ | async">
          <lord-icon trigger="loop" style="width:72px;height:72px" [colors]="'primary:' + primaryColor + ',secondary:' + secondaryColor" src="https://cdn.lordicon.com/msoeawqm.json">
          </lord-icon>
          <h5 class="mt-4">{{'COMMON.LOADING' | translate }}</h5>
        </div>
        <div *ngIf="!(projects$ | async)?.length && !(loadingProjects$ | async)">
          <lord-icon trigger="loop" style="width:72px;height:72px" [colors]="'primary:' + primaryColor + ',secondary:' + secondaryColor" src="https://cdn.lordicon.com/vlycxjwx.json">
          </lord-icon>
          <h5 class="mt-4">{{ 'COMMON.NO_RESULT' | translate }}</h5>
        </div>
      </div>
    </div>
  </div>

  <div class="col-xl-5">
    <div class="card">
      <div class="card-header align-items-center d-flex">
        <h4 class="card-title mb-0 flex-grow-1 py-1">{{ 'MODULES.DASHBOARDS.COLLABORATION.MY_TASKS' | translate }}</h4>
        <div class="flex-shrink-0">
          <div class="flex-shrink-0">
            <div class="dropdown card-header-dropdown" ngbDropdown>
              <a class="text-reset arrow-none" href="javascript:void(0);" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle>
                <span class="text-muted fs-18"><i class="mdi mdi-dots-horizontal"></i></span>
              </a>
              <div class="dropdown-menu dropdown-menu-end" ngbDropdownMenu>
                <a (click)="onChangeMonth(month, 'tasks')" *ngFor="let month of lastMonths" class="dropdown-item" href="javascript:void(0);">{{month}}</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="((loadingProjectsBoard$ | async) === false || null || undefined) && (projectsBoard$ | async)?.length" class="card-body">
        <div class="table-responsive mxh-24 table-card">
          <app-my-task [MyTask]="projectsBoard$ | async"></app-my-task>
        </div>
        <div *ngIf="!(isLastBoard$ | async)" class="mt-3 text-center">
          <a (click)="loadBoards()" class="text-muted text-decoration-underline cursor-pointer">{{
            'MODULES.DASHBOARDS.COLLABORATION.LOAD_MORE' | translate }}</a>
        </div>
      </div>
      <div id="noresult" class="py-4 mt-4 text-center" *ngIf="(loadingProjectsBoard$ | async) || (!(loadingProjectsBoard$ | async) && !(projectsBoard$ | async)?.length)">
        <div *ngIf="loadingProjectsBoard$ | async">
          <lord-icon trigger="loop" style="width:72px;height:72px" [colors]="'primary:' + primaryColor + ',secondary:' + secondaryColor" src="https://cdn.lordicon.com/msoeawqm.json">
          </lord-icon>
          <h5 class="mt-4">{{'COMMON.LOADING' | translate }}</h5>
        </div>
        <div *ngIf="!(projectsBoard$ | async)?.length && !(loadingProjectsBoard$ | async)">
          <lord-icon trigger="loop" style="width:72px;height:72px" [colors]="'primary:' + primaryColor + ',secondary:' + secondaryColor" src="https://cdn.lordicon.com/vlycxjwx.json">
          </lord-icon>
          <h5 class="mt-4">{{ 'COMMON.NO_RESULT' | translate }}</h5>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-xxl-4">
    <div class="card">
      <div class="card-header align-items-center d-flex">
        <h4 class="card-title mb-0 flex-grow-1">{{ 'MODULES.DASHBOARDS.COLLABORATION.TEAM_MEMBERS' | translate }}</h4>
      </div>

      <div *ngIf="((loadingAccounts$ | async) === false || null || undefined) && accounts$ | async" class="card-body">
        <div class="table-responsive mxh-30 table-card">
          <app-team-members [teamMembers]="accounts$ | async"></app-team-members>
        </div>
      </div>
      <div id="noresult" class="py-4 mt-4 text-center" *ngIf="(loadingAccounts$ | async) || (!(loadingAccounts$ | async) && !(accounts$ | async)?.length)">
        <div *ngIf="loadingAccounts$ | async">
          <lord-icon trigger="loop" style="width:72px;height:72px" [colors]="'primary:' + primaryColor + ',secondary:' + secondaryColor" src="https://cdn.lordicon.com/msoeawqm.json">
          </lord-icon>
          <h5 class="mt-4">{{'COMMON.LOADING' | translate }}</h5>
        </div>
        <div *ngIf="!(accounts$ | async)?.length && !(loadingAccounts$ | async)">
          <lord-icon trigger="loop" style="width:72px;height:72px" [colors]="'primary:' + primaryColor + ',secondary:' + secondaryColor" src="https://cdn.lordicon.com/vlycxjwx.json">
          </lord-icon>
          <h5 class="mt-4">{{ 'COMMON.NO_RESULT' | translate }}</h5>
        </div>
      </div>
    </div>
  </div>

  <div class="col-xxl-4 col-lg-6">
    <div class="card card-height-100">
      <div class="card-header align-items-center d-flex">
        <h4 class="card-title mb-0 flex-grow-1">{{'MODULES.SYSTEM.CHAT' | translate }}</h4>
        <div class="flex-shrink-0">
          <div class="dropdown card-header-dropdown" ngbDropdown>
            <a class="text-reset dropdown-btn arrow-none" href="javascript:void(0);" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle>
              <span class="text-muted"><i class="ri-settings-4-line align-middle me-1"></i>Setting <i class="mdi mdi-chevron-down ms-1"></i></span>
            </a>
            <div class="dropdown-menu dropdown-menu-end" ngbDropdownMenu>
              <a class="dropdown-item" href="javascript:void(0);"><i class="ri-user-2-fill align-bottom text-muted me-2"></i> {{
                'MODULES.DASHBOARDS.COLLABORATION.VIEW_PROFILE' | translate }}</a>
              <a class="dropdown-item" href="javascript:void(0);"><i class="ri-inbox-archive-line align-bottom text-muted me-2"></i> {{
                'MODULES.DASHBOARDS.COLLABORATION.ARCHIVE' | translate }}</a>
              <a class="dropdown-item" href="javascript:void(0);"><i class="ri-mic-off-line align-bottom text-muted me-2"></i> {{ 'MODULES.DASHBOARDS.COLLABORATION.MUTED'
                | translate }}</a>
              <a class="dropdown-item" href="javascript:void(0);"><i class="ri-delete-bin-5-line align-bottom text-muted me-2"></i> {{
                'MODULES.DASHBOARDS.COLLABORATION.DELETE' | translate }}</a>
            </div>
          </div>
        </div>
      </div>

      <div class="card-body p-0">
        <div id="users-chat">
          <ngx-simplebar style="max-height: 400px;" id="chat-conversation" class="chat-conversation p-3" #scrollRef>
            <ul class="list-unstyled chat-conversation-list chat-sm" id="users-conversation">
              <li class="chat-list left">
                <div class="conversation-list">
                  <div class="chat-avatar">
                    <img src="assets/images/users/avatar-2.jpg" class="shadow" alt="">
                  </div>
                  <div class="user-chat-content">
                    <div class="ctext-wrap">
                      <div class="ctext-wrap-content">
                        <p class="mb-0 ctext-content">Good morning 😊</p>
                      </div>
                      <div class="dropdown align-self-start message-box-drop" ngbDropdown>
                        <a class="dropdown-toggle arrow-none" href="javascript:void(0);" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle>
                          <i class="ri-more-2-fill"></i>
                        </a>
                        <div class="dropdown-menu" ngbDropdownMenu>
                          <a class="dropdown-item" href="javascript:void(0);"><i class="ri-reply-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.REPLY' | translate }}</a>
                          <a class="dropdown-item" href="javascript:void(0);"><i class="ri-share-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.FORWARD' | translate }}</a>
                          <a class="dropdown-item" href="javascript:void(0);"><i class="ri-file-copy-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.COPY' | translate }}</a>
                          <a class="dropdown-item" href="javascript:void(0);"><i class="ri-bookmark-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.BOOKMARK' | translate }}</a>
                          <a class="dropdown-item delete-item" href="javascript:void(0);"><i class="ri-delete-bin-5-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.DELETE' | translate }}</a>
                        </div>
                      </div>
                    </div>
                    <div class="conversation-name"><small class="text-muted time">09:07 am</small>
                      <span class="text-success check-message-icon"><i class="ri-check-double-line align-bottom"></i></span>
                    </div>
                  </div>
                </div>
              </li>

              <li class="chat-list right">
                <div class="conversation-list">
                  <div class="user-chat-content">
                    <div class="ctext-wrap">
                      <div class="ctext-wrap-content">
                        <p class="mb-0 ctext-content">Good morning, How are you? What about our
                          next meeting?</p>
                      </div>
                      <div class="dropdown align-self-start message-box-drop" ngbDropdown>
                        <a class="dropdown-toggle arrow-none" href="javascript:void(0);" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle>
                          <i class="ri-more-2-fill"></i>
                        </a>
                        <div class="dropdown-menu" ngbDropdownMenu>
                          <a class="dropdown-item" href="javascript:void(0);"><i class="ri-reply-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.REPLY' | translate }}</a>
                          <a class="dropdown-item" href="javascript:void(0);"><i class="ri-share-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.FORWARD' | translate }}</a>
                          <a class="dropdown-item" href="javascript:void(0);"><i class="ri-file-copy-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.COPY' | translate }}</a>
                          <a class="dropdown-item" href="javascript:void(0);"><i class="ri-bookmark-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.BOOKMARK' | translate }}</a>
                          <a class="dropdown-item delete-item" href="javascript:void(0);"><i class="ri-delete-bin-5-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.DELETE' | translate }}</a>
                        </div>
                      </div>
                    </div>
                    <div class="conversation-name"><small class="text-muted time">09:08 am</small>
                      <span class="text-success check-message-icon"><i class="ri-check-double-line align-bottom"></i></span>
                    </div>
                  </div>
                </div>
              </li>

              <li class="chat-list left">
                <div class="conversation-list">
                  <div class="chat-avatar">
                    <img src="assets/images/users/avatar-2.jpg" class="shadow" alt="">
                  </div>
                  <div class="user-chat-content">
                    <div class="ctext-wrap">
                      <div class="ctext-wrap-content">
                        <p class="mb-0 ctext-content">Yeah everything is fine. Our next meeting
                          tomorrow at 10.00 AM</p>
                      </div>
                      <div class="dropdown align-self-start message-box-drop" ngbDropdown>
                        <a class="dropdown-toggle arrow-none" href="javascript:void(0);" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle>
                          <i class="ri-more-2-fill"></i>
                        </a>
                        <div class="dropdown-menu" ngbDropdownMenu>
                          <a class="dropdown-item" href="javascript:void(0);"><i class="ri-reply-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.REPLY' | translate }}</a>
                          <a class="dropdown-item" href="javascript:void(0);"><i class="ri-share-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.FORWARD' | translate }}</a>
                          <a class="dropdown-item" href="javascript:void(0);"><i class="ri-file-copy-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.COPY' | translate }}</a>
                          <a class="dropdown-item" href="javascript:void(0);"><i class="ri-bookmark-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.BOOKMARK' | translate }}</a>
                          <a class="dropdown-item delete-item" href="javascript:void(0);"><i class="ri-delete-bin-5-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.DELETE' | translate }}</a>
                        </div>
                      </div>
                    </div>
                    <div class="ctext-wrap">
                      <div class="ctext-wrap-content">
                        <p class="mb-0 ctext-content">Hey, I'm going to meet a friend of mine at
                          the department store. I have to buy some presents for my parents 🎁.
                        </p>
                      </div>
                      <div class="dropdown align-self-start message-box-drop" ngbDropdown>
                        <a class="dropdown-toggle arrow-none" href="javascript:void(0);" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle>
                          <i class="ri-more-2-fill"></i>
                        </a>
                        <div class="dropdown-menu" ngbDropdownMenu>
                          <a class="dropdown-item" href="javascript:void(0);"><i class="ri-reply-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.REPLY' | translate }}</a>
                          <a class="dropdown-item" href="javascript:void(0);"><i class="ri-share-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.FORWARD' | translate }}</a>
                          <a class="dropdown-item" href="javascript:void(0);"><i class="ri-file-copy-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.COPY' | translate }}</a>
                          <a class="dropdown-item" href="javascript:void(0);"><i class="ri-bookmark-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.BOOKMARK' | translate }}</a>
                          <a class="dropdown-item delete-item" href="javascript:void(0);"><i class="ri-delete-bin-5-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.DELETE' | translate }}</a>
                        </div>
                      </div>
                    </div>
                    <div class="conversation-name"><small class="text-muted time">09:10 am</small>
                      <span class="text-success check-message-icon"><i class="ri-check-double-line align-bottom"></i></span>
                    </div>
                  </div>
                </div>
              </li>
              <!-- chat-list -->

              <li class="chat-list right">
                <div class="conversation-list">
                  <div class="user-chat-content">
                    <div class="ctext-wrap">
                      <div class="ctext-wrap-content">
                        <p class="mb-0 ctext-content">Wow that's great</p>
                      </div>
                      <div class="dropdown align-self-start message-box-drop" ngbDropdown>
                        <a class="dropdown-toggle arrow-none" href="javascript:void(0);" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle>
                          <i class="ri-more-2-fill"></i>
                        </a>
                        <div class="dropdown-menu" ngbDropdownMenu>
                          <a class="dropdown-item" href="javascript:void(0);"><i class="ri-reply-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.REPLY' | translate }}</a>
                          <a class="dropdown-item" href="javascript:void(0);"><i class="ri-share-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.FORWARD' | translate }}</a>
                          <a class="dropdown-item" href="javascript:void(0);"><i class="ri-file-copy-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.COPY' | translate }}</a>
                          <a class="dropdown-item" href="javascript:void(0);"><i class="ri-bookmark-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.BOOKMARK' | translate }}</a>
                          <a class="dropdown-item delete-item" href="javascript:void(0);"><i class="ri-delete-bin-5-line me-2 text-muted align-bottom"></i>{{
                            'MODULES.DASHBOARDS.COLLABORATION.DELETE' | translate }}</a>
                        </div>
                      </div>
                    </div>
                    <div class="conversation-name"><small class="text-muted time">09:12 am</small>
                      <span class="text-success check-message-icon"><i class="ri-check-double-line align-bottom"></i></span>
                    </div>
                  </div>
                </div>
              </li>
              <!-- chat-list -->

              <li class="chat-list left">
                <div class="conversation-list">
                  <div class="chat-avatar">
                    <img src="assets/images/users/avatar-2.jpg" class="shadow" alt="">
                  </div>
                  <div class="user-chat-content">
                    <div class="ctext-wrap">
                      <div class="message-img mb-0">
                        <div class="message-img-list">
                          <div>
                            <a class="popup-img d-inline-block" href="assets/images/small/img-1.jpg">
                              <img src="assets/images/small/img-1.jpg" alt="" class="rounded border">
                            </a>
                          </div>
                          <div class="message-img-link">
                            <ul class="list-inline mb-0">
                              <li class="list-inline-item dropdown" ngbDropdown>
                                <a class="dropdown-toggle arrow-none" href="javascript:void(0);" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle>
                                  <i class="ri-more-fill"></i>
                                </a>
                                <div class="dropdown-menu" ngbDropdownMenu>
                                  <a class="dropdown-item" href="assets/images/small/img-1.jpg" download=""><i class="ri-download-2-line me-2 text-muted align-bottom"></i>{{
                                    'MODULES.DASHBOARDS.COLLABORATION.DOWNLOAD' | translate }}</a>
                                  <a class="dropdown-item" href="javascript:void(0);"><i class="ri-reply-line me-2 text-muted align-bottom"></i>{{
                                    'MODULES.DASHBOARDS.COLLABORATION.REPLY' | translate }}</a>
                                  <a class="dropdown-item" href="javascript:void(0);"><i class="ri-share-line me-2 text-muted align-bottom"></i>{{
                                    'MODULES.DASHBOARDS.COLLABORATION.FORWARD' | translate }}</a>
                                  <a class="dropdown-item" href="javascript:void(0);"><i class="ri-bookmark-line me-2 text-muted align-bottom"></i>{{
                                    'MODULES.DASHBOARDS.COLLABORATION.BOOKMARK' | translate }}</a>
                                  <a class="dropdown-item delete-item" href="javascript:void(0);"><i class="ri-delete-bin-5-line me-2 text-muted align-bottom"></i>{{'COMMON.DELETE' | translate }}</a>
                                </div>
                              </li>
                            </ul>
                          </div>
                        </div>

                        <div class="message-img-list">
                          <div>
                            <a class="popup-img d-inline-block" href="assets/images/small/img-2.jpg">
                              <img src="assets/images/small/img-2.jpg" alt="" class="rounded border">
                            </a>
                          </div>
                          <div class="message-img-link">
                            <ul class="list-inline mb-0">
                              <li class="list-inline-item dropdown" ngbDropdown>
                                <a class="dropdown-toggle arrow-none" href="javascript:void(0);" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle>
                                  <i class="ri-more-fill"></i>
                                </a>
                                <div class="dropdown-menu" ngbDropdownMenu>
                                  <a class="dropdown-item" href="assets/images/small/img-2.jpg" download=""><i class="ri-download-2-line me-2 text-muted align-bottom"></i>{{'COMMON.DOWNLOAD' | translate }}</a>
                                  <a class="dropdown-item" href="javascript:void(0);"><i class="ri-reply-line me-2 text-muted align-bottom"></i>{{'MODULES.INVENTORY.REPLY' | translate }}</a>
                                  <a class="dropdown-item" href="javascript:void(0);"><i class="ri-share-line me-2 text-muted align-bottom"></i>Forward</a>
                                  <a class="dropdown-item" href="javascript:void(0);"><i class="ri-bookmark-line me-2 text-muted align-bottom"></i>{{ 'MODULES.ECOMMERCE.MAIN.BOOKMARK' | translate }}</a>
                                  <a class="dropdown-item delete-item" href="javascript:void(0);"><i class="ri-delete-bin-5-line me-2 text-muted align-bottom"></i>{{'COMMON.DELETE' | translate }}</a>
                                </div>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="conversation-name"><small class="text-muted time">09:30 am</small>
                      <span class="text-success check-message-icon"><i class="ri-check-double-line align-bottom"></i></span>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
          </ngx-simplebar>
        </div>

        <div class="border-top border-top-dashed">
          <div class="row g-2 mx-3 mt-2 mb-3">
            <div class="col">
              <div class="position-relative">
                <input type="text" class="form-control border-light bg-light" placeholder="{{ 'COMMON.ENTER_MESSAGE' | translate }}">
              </div>
            </div>
            <div class="col-auto">
              <button type="submit" class="btn btn-info"><span class="d-none d-sm-inline-block me-2">{{ 'COMMON.SEND' |
                  translate }}</span> <i class="mdi mdi-send float-end"></i></button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-xxl-4 col-lg-6">
    <div class="card card-height-100">
      <div class="card-header align-items-center d-flex">
        <h4 class="card-title mb-0 flex-grow-1">{{ 'MODULES.DASHBOARDS.COLLABORATION.PROJECTS_STATUS' | translate }}
        </h4>
        <div class="flex-shrink-0">
          <div class="dropdown card-header-dropdown" ngbDropdown>
            <a class="text-reset arrow-none" href="javascript:void(0);" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbDropdownToggle>
              <span class="text-muted fs-18"><i class="mdi mdi-dots-horizontal"></i></span>
            </a>
            <div class="dropdown-menu dropdown-menu-end" ngbDropdownMenu>
              <a (click)="onChangeMonth(month, 'status')" *ngFor="let month of lastMonths" class="dropdown-item" href="javascript:void(0);">{{month}}</a>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="((loadingProjectStatus$ | async) === false || null || undefined) && projectsStatus" class="card-body">
        <apx-chart *ngIf="isBrowser" class="apex-charts" dir="ltr" [series]="status7.series" [labels]="status7.labels" [chart]="status7.chart" [plotOptions]="status7.plotOptions"
          [dataLabels]="status7.dataLabels" [legend]="status7.legend" [stroke]="status7.stroke" [colors]="status7.colors" dir="ltr"></apx-chart>
        <div class="mt-3">
          <div class="d-flex justify-content-center align-items-center mb-4">
            <h2 class="me-3 ff-secondary mb-0">{{projectsStatus?.totalProjects}}</h2>
            <div>
              <p class="text-muted mb-0">{{ 'MODULES.DASHBOARDS.COLLABORATION.TOTAL_PROJECTS' | translate }}</p>
              <p class="text-success fw-medium mb-0">
                <span class="badge badge-soft-success p-1 rounded-circle"><i class="ri-arrow-right-up-line"></i></span>
                +{{projectsStatus?.newProjects}} {{ 'MODULES.DASHBOARDS.COLLABORATION.NEW' | translate }}
              </p>
            </div>
          </div>

          <div class="d-flex justify-content-between border-bottom border-bottom-dashed py-2">
            <p class="fw-medium mb-0"><i class="ri-checkbox-blank-circle-fill text-success align-middle me-2"></i>
              Active</p>
            <div>
              <span class="text-muted pe-5">{{projectsStatus?.chart?.ACTIVE?.count}} {{
                'MODULES.DASHBOARDS.COLLABORATION.PROJECTS' | translate }}</span>
              <span class="text-success fw-medium fs-12">{{projectsStatus?.chart?.ACTIVE?.hours}} hrs</span>
            </div>
          </div>
          <div class="d-flex justify-content-between border-bottom border-bottom-dashed py-2">
            <p class="fw-medium mb-0"><i class="ri-checkbox-blank-circle-fill text-primary align-middle me-2"></i>
              Delivered</p>
            <div>
              <span class="text-muted pe-5">{{projectsStatus?.chart?.DELIVERED?.count}} {{
                'MODULES.DASHBOARDS.COLLABORATION.PROJECTS' | translate }}</span>
              <span class="text-success fw-medium fs-12">{{projectsStatus?.chart?.DELIVERED?.hours}} hrs</span>
            </div>
          </div>
          <div class="d-flex justify-content-between border-bottom border-bottom-dashed py-2">
            <p class="fw-medium mb-0"><i class="ri-checkbox-blank-circle-fill text-warning align-middle me-2"></i>
              Blocked </p>
            <div>
              <span class="text-muted pe-5">{{projectsStatus?.chart?.BLOCKED?.count}} {{
                'MODULES.DASHBOARDS.COLLABORATION.PROJECTS' | translate }}</span>
              <span class="text-success fw-medium fs-12">~{{projectsStatus?.chart?.BLOCKED?.hours}} hrs</span>
            </div>
          </div>
          <div class="d-flex justify-content-between py-2">
            <p class="fw-medium mb-0"><i class="ri-checkbox-blank-circle-fill text-danger align-middle me-2"></i> {{
              'MODULES.DASHBOARDS.COLLABORATION.CANCELLED' | translate }}</p>
            <div>
              <span class="text-muted pe-5">{{projectsStatus?.chart?.CANCELLED?.count}} {{
                'MODULES.DASHBOARDS.COLLABORATION.PROJECTS' | translate }}</span>
              <span class="text-success fw-medium fs-12">~{{projectsStatus?.chart?.CANCELLED?.hours}} hrs</span>
            </div>
          </div>
        </div>
      </div>

      <div id="noresult" class="py-4 mt-4 text-center" *ngIf="(loadingProjectStatus$ | async) || (!(loadingProjectStatus$ | async) && !projectsStatus)">
        <div *ngIf="loadingProjectStatus$ | async">
          <lord-icon trigger="loop" style="width:72px;height:72px" [colors]="'primary:' + primaryColor + ',secondary:' + secondaryColor" src="https://cdn.lordicon.com/msoeawqm.json">
          </lord-icon>
          <h5 class="mt-4">{{'COMMON.LOADING' | translate }}</h5>
        </div>
        <div *ngIf="!projectsStatus && !(loadingProjectStatus$ | async)">
          <lord-icon trigger="loop" style="width:72px;height:72px" [colors]="'primary:' + primaryColor + ',secondary:' + secondaryColor" src="https://cdn.lordicon.com/vlycxjwx.json">
          </lord-icon>
          <h5 class="mt-4">{{ 'COMMON.NO_RESULT' | translate }}</h5>
        </div>
      </div>

    </div>
  </div>
</div>